<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="317px" preserveAspectRatio="none" style="width:732px;height:317px;" version="1.1" viewBox="0 0 732 317" width="732px" zoomAndPan="magnify"><defs><filter height="300%" id="frj9xuw9e5a4b" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="361" x="186.5" y="22.9951">Client requests result per query on behalf of patron</text><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="41" x2="41" y1="81.5938" y2="262.27"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="388" x2="388" y1="81.5938" y2="262.27"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="651" x2="651" y1="81.5938" y2="262.27"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="8" y="78.292">DDB CMS</text><path d="M20.5,37.2969 L20.5,61.2969 M20.5,49.2969 L37.5,49.2969 " fill="none" filter="url(#frj9xuw9e5a4b)" style="stroke: #383838; stroke-width: 2.0;"/><ellipse cx="49.5" cy="49.2969" fill="#F8F8F8" filter="url(#frj9xuw9e5a4b)" rx="12" ry="12" style="stroke: #383838; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="8" y="274.2651">DDB CMS</text><path d="M20.5,281.5669 L20.5,305.5669 M20.5,293.5669 L37.5,293.5669 " fill="none" filter="url(#frj9xuw9e5a4b)" style="stroke: #383838; stroke-width: 2.0;"/><ellipse cx="49.5" cy="293.5669" fill="#F8F8F8" filter="url(#frj9xuw9e5a4b)" rx="12" ry="12" style="stroke: #383838; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="309" y="78.292">Follow Searches service</text><ellipse cx="388" cy="49.2969" fill="#F8F8F8" filter="url(#frj9xuw9e5a4b)" rx="12" ry="12" style="stroke: #383838; stroke-width: 2.0;"/><polygon fill="#383838" points="384,37.2969,390,32.2969,388,37.2969,390,42.2969,384,37.2969" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="309" y="274.2651">Follow Searches service</text><ellipse cx="388" cy="293.5669" fill="#F8F8F8" filter="url(#frj9xuw9e5a4b)" rx="12" ry="12" style="stroke: #383838; stroke-width: 2.0;"/><polygon fill="#383838" points="384,281.5669,390,276.5669,388,281.5669,390,286.5669,384,281.5669" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="144" x="576" y="78.292">Open Platform /search</text><path d="M630.5,37.2969 L630.5,61.2969 M630.5,49.2969 L647.5,49.2969 " fill="none" filter="url(#frj9xuw9e5a4b)" style="stroke: #383838; stroke-width: 2.0;"/><ellipse cx="659.5" cy="49.2969" fill="#F8F8F8" filter="url(#frj9xuw9e5a4b)" rx="12" ry="12" style="stroke: #383838; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="144" x="576" y="274.2651">Open Platform /search</text><path d="M630.5,281.5669 L630.5,305.5669 M630.5,293.5669 L647.5,293.5669 " fill="none" filter="url(#frj9xuw9e5a4b)" style="stroke: #383838; stroke-width: 2.0;"/><ellipse cx="659.5" cy="293.5669" fill="#F8F8F8" filter="url(#frj9xuw9e5a4b)" rx="12" ry="12" style="stroke: #383838; stroke-width: 2.0;"/><polygon fill="#383838" points="376,108.7266,386,112.7266,376,116.7266,380,112.7266" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="41" x2="382" y1="112.7266" y2="112.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="48" y="107.6606">Request result for query</text><polygon fill="#383838" points="639,137.8594,649,141.8594,639,145.8594,643,141.8594" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="388" x2="645" y1="141.8594" y2="141.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="395" y="136.7935">Request</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="103" x="446" y="136.7935">enhanced query</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="552" y="136.7935">result as PID's</text><polygon fill="#383838" points="399,166.9922,389,170.9922,399,174.9922,395,170.9922" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="393" x2="650" y1="170.9922" y2="170.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="405" y="165.9263">Return list of PID's</text><line style="stroke: #383838; stroke-width: 1.0;" x1="388" x2="430" y1="200.125" y2="200.125"/><line style="stroke: #383838; stroke-width: 1.0;" x1="430" x2="430" y1="200.125" y2="213.125"/><line style="stroke: #383838; stroke-width: 1.0;" x1="389" x2="430" y1="213.125" y2="213.125"/><polygon fill="#383838" points="399,209.125,389,213.125,399,217.125,395,213.125" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="395" y="195.0591">Set dateLastSeen = NOW</text><polygon fill="#383838" points="52,240.27,42,244.27,52,248.27,48,244.27" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="46" x2="387" y1="244.27" y2="244.27"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="58" y="239.2041">Return list of PID's,</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="103" x="171" y="239.2041">enhanced query</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23" x="277" y="239.2041">and</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="303" y="238.7471">lastDateSeen</text><!--MD5=[f2af72ecfa55ec07d7e7059c601b8112]
@startuml
Title Client requests result per query on behalf of patron

skinparam monochrome true

boundary    DDBCMS      as "DDB CMS"
control     Follow      as "Follow Searches service"
boundary    OPsearch    as "Open Platform /search"

DDBCMS -> Follow: Request result for query
Follow -> OPsearch: Request **enhanced query** result as PID's

Follow <- - OPsearch: Return list of PID's
Follow -> Follow: Set dateLastSeen = NOW
DDBCMS <- - Follow: Return list of PID's, **enhanced query** and ""lastDateSeen""

@enduml

PlantUML version 1.2019.13(Tue Dec 10 17:18:29 GMT 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_202-b08
Operating System: Linux
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>