<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="699px" preserveAspectRatio="none" style="width:751px;height:699px;" version="1.1" viewBox="0 0 751 699" width="751px" zoomAndPan="magnify"><defs><filter height="300%" id="fgkpda0b35t43" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="471" x="141.25" y="26.708">Cover Service matching process - Sequence Diagram</text><rect fill="#FFFFFF" filter="url(#fgkpda0b35t43)" height="114.5313" style="stroke: #000000; stroke-width: 2.0;" width="295.5" x="13" y="138.25"/><rect fill="#FFFFFF" filter="url(#fgkpda0b35t43)" height="178.7344" style="stroke: #000000; stroke-width: 2.0;" width="515.5" x="13" y="266.7813"/><rect fill="#FFFFFF" height="88.2031" style="stroke: none; stroke-width: 1.0;" width="515.5" x="13" y="357.3125"/><rect fill="#FFFFFF" filter="url(#fgkpda0b35t43)" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="614.5" x="13" y="459.5156"/><rect fill="#FFFFFF" filter="url(#fgkpda0b35t43)" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="727.5" x="13" y="548.9141"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="42" x2="42" y1="121.25" y2="612.1797"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="281.5" x2="281.5" y1="121.25" y2="612.1797"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="356.5" x2="356.5" y1="121.25" y2="612.1797"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="466.5" x2="466.5" y1="121.25" y2="612.1797"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="572.5" x2="572.5" y1="121.25" y2="612.1797"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="678.5" x2="678.5" y1="121.25" y2="612.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="23" y="117.9482">User</text><ellipse cx="42" cy="47.9531" fill="#F8F8F8" filter="url(#fgkpda0b35t43)" rx="8" ry="8" style="stroke: #383838; stroke-width: 2.0;"/><path d="M42,55.9531 L42,82.9531 M29,63.9531 L55,63.9531 M42,82.9531 L29,97.9531 M42,82.9531 L55,97.9531 " fill="none" filter="url(#fgkpda0b35t43)" style="stroke: #383838; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="23" y="624.1748">User</text><ellipse cx="42" cy="637.4766" fill="#F8F8F8" filter="url(#fgkpda0b35t43)" rx="8" ry="8" style="stroke: #383838; stroke-width: 2.0;"/><path d="M42,645.4766 L42,672.4766 M29,653.4766 L55,653.4766 M42,672.4766 L29,687.4766 M42,672.4766 L55,687.4766 " fill="none" filter="url(#fgkpda0b35t43)" style="stroke: #383838; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="265.5" y="117.9482">FBS</text><ellipse cx="282" cy="88.9531" fill="#F8F8F8" filter="url(#fgkpda0b35t43)" rx="12" ry="12" style="stroke: #383838; stroke-width: 2.0;"/><line style="stroke: #383838; stroke-width: 2.0;" x1="270" x2="294" y1="102.9531" y2="102.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="265.5" y="624.1748">FBS</text><ellipse cx="282" cy="643.4766" fill="#F8F8F8" filter="url(#fgkpda0b35t43)" rx="12" ry="12" style="stroke: #383838; stroke-width: 2.0;"/><line style="stroke: #383838; stroke-width: 2.0;" x1="270" x2="294" y1="657.4766" y2="657.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="308.5" y="117.9482">Open Search</text><ellipse cx="356.5" cy="88.9531" fill="#F8F8F8" filter="url(#fgkpda0b35t43)" rx="12" ry="12" style="stroke: #383838; stroke-width: 2.0;"/><line style="stroke: #383838; stroke-width: 2.0;" x1="344.5" x2="368.5" y1="102.9531" y2="102.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="308.5" y="624.1748">Open Search</text><ellipse cx="356.5" cy="643.4766" fill="#F8F8F8" filter="url(#fgkpda0b35t43)" rx="12" ry="12" style="stroke: #383838; stroke-width: 2.0;"/><line style="stroke: #383838; stroke-width: 2.0;" x1="344.5" x2="368.5" y1="657.4766" y2="657.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="414.5" y="117.9482">Open Platform</text><ellipse cx="466.5" cy="88.9531" fill="#F8F8F8" filter="url(#fgkpda0b35t43)" rx="12" ry="12" style="stroke: #383838; stroke-width: 2.0;"/><line style="stroke: #383838; stroke-width: 2.0;" x1="454.5" x2="478.5" y1="102.9531" y2="102.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="414.5" y="624.1748">Open Platform</text><ellipse cx="466.5" cy="643.4766" fill="#F8F8F8" filter="url(#fgkpda0b35t43)" rx="12" ry="12" style="stroke: #383838; stroke-width: 2.0;"/><line style="stroke: #383838; stroke-width: 2.0;" x1="454.5" x2="478.5" y1="657.4766" y2="657.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="528.5" y="117.9482">MusicBrainz</text><ellipse cx="573" cy="88.9531" fill="#F8F8F8" filter="url(#fgkpda0b35t43)" rx="12" ry="12" style="stroke: #383838; stroke-width: 2.0;"/><line style="stroke: #383838; stroke-width: 2.0;" x1="561" x2="585" y1="102.9531" y2="102.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="528.5" y="624.1748">MusicBrainz</text><ellipse cx="573" cy="643.4766" fill="#F8F8F8" filter="url(#fgkpda0b35t43)" rx="12" ry="12" style="stroke: #383838; stroke-width: 2.0;"/><line style="stroke: #383838; stroke-width: 2.0;" x1="561" x2="585" y1="657.4766" y2="657.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="627.5" y="117.9482">Load file (TSV)</text><path d="M661,68.9531 C661,58.9531 679,58.9531 679,58.9531 C679,58.9531 697,58.9531 697,68.9531 L697,94.9531 C697,104.9531 679,104.9531 679,104.9531 C679,104.9531 661,104.9531 661,94.9531 L661,68.9531 " fill="#F8F8F8" filter="url(#fgkpda0b35t43)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M661,68.9531 C661,78.9531 679,78.9531 679,78.9531 C679,78.9531 697,78.9531 697,68.9531 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="627.5" y="624.1748">Load file (TSV)</text><path d="M661,637.4766 C661,627.4766 679,627.4766 679,627.4766 C679,627.4766 697,627.4766 697,637.4766 L697,663.4766 C697,673.4766 679,673.4766 679,673.4766 C679,673.4766 661,673.4766 661,663.4766 L661,637.4766 " fill="#F8F8F8" filter="url(#fgkpda0b35t43)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M661,637.4766 C661,647.4766 679,647.4766 679,647.4766 C679,647.4766 697,647.4766 697,637.4766 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><path d="M13,138.25 L144,138.25 L144,145.25 L134,155.25 L13,155.25 L13,138.25 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="114.5313" style="stroke: #000000; stroke-width: 2.0;" width="295.5" x="13" y="138.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="86" x="28" y="151.3169">Get holding</text><polygon fill="#383838" points="270,172.5156,280,176.5156,270,180.5156,274,176.5156" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="42" x2="276" y1="176.5156" y2="176.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="49" y="171.4497">Query holding list (Data type)</text><path d="M26,189.5156 L26,214.5156 L296,214.5156 L296,199.5156 L286,189.5156 L26,189.5156 " fill="#ECECEC" filter="url(#fgkpda0b35t43)" style="stroke: #383838; stroke-width: 1.0;"/><path d="M286,189.5156 L286,199.5156 L296,199.5156 L286,189.5156 " fill="#ECECEC" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="214" x="47.75" y="206.5825">ISBN + UPC may not be available</text><polygon fill="#383838" points="53,240.7813,43,244.7813,53,248.7813,49,244.7813" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="47" x2="281" y1="244.7813" y2="244.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="59" y="239.7153">FAUST, Creator, Title, (ISBN, UPC)</text><path d="M13,266.7813 L77,266.7813 L77,273.7813 L67,283.7813 L13,283.7813 L13,266.7813 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="178.7344" style="stroke: #000000; stroke-width: 2.0;" width="515.5" x="13" y="266.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="28" y="279.8481">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="203" x="92" y="278.9917">[Get metadata (Open Platform)]</text><polygon fill="#383838" points="454.5,301.0469,464.5,305.0469,454.5,309.0469,458.5,305.0469" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="42" x2="460.5" y1="305.0469" y2="305.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="49" y="299.981">Query list: Faust</text><polygon fill="#383838" points="53,345.3125,43,349.3125,53,353.3125,49,349.3125" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="47" x2="465.5" y1="349.3125" y2="349.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="59" y="329.1138">FAUST, PID, Creator,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="59" y="344.2466">Title, ISBN (??), UPC (??)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="528.5" y1="358.3125" y2="358.3125"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="193" x="18" y="368.5229">[Get metadata (Open Search)]</text><polygon fill="#383838" points="344.5,389.25,354.5,393.25,344.5,397.25,348.5,393.25" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="42" x2="350.5" y1="393.25" y2="393.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="49" y="388.1841">Query list: Faust</text><polygon fill="#383838" points="53,433.5156,43,437.5156,53,441.5156,49,437.5156" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="47" x2="355.5" y1="437.5156" y2="437.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="232" x="59" y="417.3169">FAUST, PID, Creator (100a+h/110a),</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="257" x="59" y="432.4497">Title (245a), ISBN (021a+b), UPC (023a)</text><path d="M13,459.5156 L267,459.5156 L267,466.5156 L257,476.5156 L13,476.5156 L13,459.5156 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="614.5" x="13" y="459.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="209" x="28" y="472.5825">Get cover URL (Musicbrainz)</text><polygon fill="#383838" points="561,493.7813,571,497.7813,561,501.7813,565,497.7813" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="42" x2="567" y1="497.7813" y2="497.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="49" y="492.7153">Query list: Creator, Title, UPC</text><polygon fill="#383838" points="53,522.9141,43,526.9141,53,530.9141,49,526.9141" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="47" x2="572" y1="526.9141" y2="526.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="59" y="521.8481">mbid, Creator, Title, Cover link</text><path d="M13,548.9141 L160,548.9141 L160,555.9141 L150,565.9141 L13,565.9141 L13,548.9141 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="727.5" x="13" y="548.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="102" x="28" y="561.981">Build load file</text><polygon fill="#383838" points="667,583.1797,677,587.1797,667,591.1797,671,587.1797" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="42" x2="673" y1="587.1797" y2="587.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="49" y="582.1138">FAUST, PPID, PID, Vendor, Height, Width, URL</text><!--MD5=[da7365f567dbe9dd59d8f2e45a8d8eda]
@startuml
title Cover Service matching process - Sequence Diagram
skinparam monochrome true

actor User
entity FBS 
entity "Open Search" as OpenSearch
entity "Open Platform" as OP
entity "MusicBrainz" as MB
database "Load file (TSV)" as TSV


group Get holding
    User -> FBS: Query holding list (Data type)
    note over User, FBS: ISBN + UPC may not be available
    User <- - FBS: FAUST, Creator, Title, (ISBN, UPC)
end

alt Get metadata (Open Platform)
    User -> OP: Query list: Faust
    User <- - OP: FAUST, PID, Creator,\nTitle, ISBN (??), UPC (??)
else Get metadata (Open Search)
    User -> OpenSearch: Query list: Faust
    User <- - OpenSearch: FAUST, PID, Creator (100a+h/110a),\nTitle (245a), ISBN (021a+b), UPC (023a)
end


group Get cover URL (Musicbrainz)
    User -> MB: Query list: Creator, Title, UPC
    User <- - MB: mbid, Creator, Title, Cover link
end


group Build load file
    User -> TSV: FAUST, PPID, PID, Vendor, Height, Width, URL
end
@enduml

PlantUML version 1.2020.03beta11(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>